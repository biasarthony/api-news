{
    "swagger": "2.0",
    "info": {
        "title": "Shonet API",
        "contact": {
            "name": "The Shonet",
            "url": "https://www.rijalasepnugroho.com"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "schemes": [
        "http"
    ],
    "paths": {
        "/get-token": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get Authority token",
                "description": "Get Authority token",
                "operationId": "auth.get-token",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "description": "login object that need to get auth token",
                        "required": true,
                        "schema": {
							"type": "object",
							"required":[
								"email",
								"password"
							],
							"properties": {
								"email": {
									"type": "string",
									"format": "email",
									"example": "rijal.asep.nugroho@gmail.com"
								},
								"password": {
									"type": "string",
									"format": "password",
									"example": "rahasia"
								}
							}
						}
                    }
                ],
                "responses": {
                    "400": {
                        "description": "Bad Request, required form data email and password"
                    },
                    "401": {
                      "description": "Not Authorized, api key not valid"
                    },
                    "500": {
                        "description": "Internal Server error"
                    },
                    "404": {
                        "description": "User not found on database"
                    },
                    "200": {
                        "description": "Success get token"
                    }
                }
            }
        },
		"/news": {
          	"get": {
            		"tags": [
              		"News"
            		],
            		"summary": "Get all news on Draft or Published",
            		"description": "Get all news on Draft or Published with all filtering parameter for optimizing search",
            		"operationId": "news.index",
            		"produces": [
              		"application/json"
            		],
            		"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"description": "authority token",
                			"required": true,
                			"type": "string"
              		},
              		{
                			"name": "search",
                			"in": "query",
                			"type": "string",
                			"description": "Searching news with keywords"
              		},
              		{
                			"name": "status",
                			"in": "query",
                			"required": false,
                			"type": "string",
			    			"enum":["D", "P"],
                			"description": "This to define the news status : Draft or Published (D or P)"
              		},
              		{
                			"name": "page",
                			"in": "query",
                			"required": false,
                			"type": "integer",
						"minimum": 1,
                			"description": "page of pagination. default page is 1"
              		},
              		{
                			"name": "limit",
                			"in": "query",
                			"required": false,
                			"type": "integer",
                			"minimum": 1,
                			"description": "Limit the news display on pagination. default is 50"
              		},
			 		{
                			"name": "sortby",
                			"in": "query",
                			"type": "string",
                			"description": "Sorting your news with some condition (field_name on database, ex: publish_date)"
              		},
              		{
                			"name": "order",
                			"in": "query",
                			"type": "string",
						"enum": ["asc", "desc"],
                			"description": "Ordering news index with ascending order or descending order"
              		}              
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "Data Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"200": {
            				"description": "Success get news"
              		}
            		}
          	},
          	"post": {
	            "tags": [
	              	"News"
	            ],
	            "summary": "Storing draft of news",
	            "description": "Storing Draft of news with all required body",
	            "operationId": "news.index",
	            "produces": [
	              	"application/json"
	            ],
	            "parameters": [
	              	{
						"name": "token",
		                	"in": "header",
		                	"description": "authority token",
		                	"required": true,
		                	"type": "string"
	              	},
	              	{
	                		"name": "body",
	                		"in": "body",
	                		"description": "object that need for creating new news",
	                		"required": true,
	                		"schema": {
	                  	"type": "object",
	                  		"required":[
	                    			"title",
	                    			"content",
	                    			"topic"
	                  		],
	                  		"properties": {
	                    			"title": {
	                      			"type": "string",
	                      			"format": "text",
	                      			"example": "Balada Seorang Anak Gembala"
	                    			},
	                    			"content": {
	                      			"type": "string",
	                      			"format": "text",
	                      			"example": "<p><b>Hello world!</b></p>"
	                    			},
	                    			"image": {
	                      			"type": "string",
	                      			"format": "byte",
	                      			"example": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAAqACAAQAAAABAAACVKADAAQAAAABAAACSgAAAAD/4QkhaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI/mab6en6v+v+GNy3d2loJiotbcKqRhQII8KNoOABHgDJJwO/NID//Z"
	                    			},
	                    			"image_caption": {
	                      			"type": "string",
	                      			"format": "text",
	                      			"example": "TIME. Kisah Anak Gembala di Padang Rumput"
	                    			},
	                    			"topic": {
	                      			"type": "array",
	                      			"items": [
	                        				{
	                          				"type": "object",
	                          				"properties": {
	                            					"id": {
	                              					"type": "integer",
	                              					"format": "int64",
	                              					"example": 1
	                            					}
	                          				}
	                        				},
	                        				{
	                          				"type": "object",
	                          				"properties": {
	                            					"id": {
	                              					"type": "integer",
	                              					"format": "int64",
	                              					"example": 2
	                            					}
	                          				}
	                        				}
	                      			]
	                    			}
	                  		}
	                		}
	              	}
	            ],
	            "responses": {
	              	"400": {
	              		"description": "Bad Request, required form data"
	              	},
	              	"401": {
	                		"description": "Not Authorized, api key not valid"
	              	},
	              	"403": {
	                		"description": "Forbidden Access, You not have priviledges to access this API"
	              	},
	              	"500": {
	                		"description": "Internal Server error"
	              	},
	              	"201": {
	                		"description": "Success to create articles"
	              	}
	            }
	        }
        },
        "/news/{id}": {
          	"get": {
            		"tags": [
              		"News"
            		],
            		"summary": "Get News By ID",
	            	"description": "Get specific news for view, editing or delete ",
	            	"operationId": "news.view",
	            	"produces": [
	              	"application/json"
	            	],
	            	"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"description": "authority token",
                			"required": true,
                			"type": "string"
              		},
              		{
                			"in": "path",
                			"name": "id",
                			"required": true,
                			"type": "integer",
                			"minimum": 1,
                			"description": "search news by id parameter"
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "Articles Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"200": {
                			"description": "Success get article"
              		}
            		}
          	},
          	"put": {
            		"tags": [
            	  		"News"
            		],
            		"summary": "Update news",
            		"description": "Update news with all required body",
            		"operationId": "news.update",
            		"produces": [
              		"application/json"
            		],
            		"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"required": true,
                			"description": "authority token",
                			"type": "string"
              		},
              		{
                			"name": "id",
                			"in": "path",
                			"required": true,
                			"description": "add id to specific update news",
                			"type": "integer"
              		},
              		{
                			"name": "body",
                			"in": "body",
                			"description": "object that need for update news",
                			"required": true,
                			"schema": {
                  			"type": "object",
                  			"required":[
                    				"title",
                    				"content",
                    				"image",
                    				"publish_date",
                    				"topic"
                  			],
                  			"properties": {
                    				"title": {
                      				"type": "string",
                      				"format": "text",
                      				"example": "Balada Kisah Anak Gembala di Padang Rumput"
                    				},
                    				"content": {
                      				"type": "string",
                      				"format": "text",
                      				"example": "<p>Can you input HTML code as string</p>"
                    				},
                    				"image": {
                      				"type": "string",
                      				"format": "byte",
                      				"example": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAAqACAAQAAAABAAACVKADAAQAAAABAAACSgAAAAD/4QkhaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI/mab6en6v+v+GNy3d2loJiotbcKqRhQII8KNoOABHgDJJwO/NID//Z"
                    				},
                    				"publish_date": {
                      				"type": "string",
                      				"format": "date-time"
                    				},
                    				"topic": {
                      				"type": "array",
                      				"items": [
                        					{
                          					"type": "object",
                          					"properties": {
                            						"id": {
                              						"type": "integer",
                              						"format": "int64",
                              						"example": 1
                            						}
                          					}
                        					},
                        					{
                          					"type": "object",
                          					"properties": {
                            						"id": {
                              						"type": "integer",
                              						"format": "int64",
                              						"example": 2
                            						}
                          					}
                        					}
                      				]
                    				}
                  			}
                			}
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "News Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"200": {
                			"description": "Success to update news"
              		}
            		}
          	},
          	"delete": {
            		"tags": [
              		"News"
            		],
            		"summary": "Deleting news",
            		"description": "Deleting news, with id supply",
            		"operationId": "news.destroy",
            		"produces": [
              		"application/json"
            		],
            		"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"required": true,
                			"description": "authority token",
                			"type": "string"
              		},
              		{
                			"name": "id",
                			"in": "path",
                			"required": true,
                			"description": "add id to specific news delete",
                			"type": "integer"
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "News Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"204": {
                			"description": "Success to delete news"
              		}
            		}
          	}
        },
        "/topics": {
          	"get": {
            		"tags": [
              		"Topics"
            		],
            		"summary": "Get topics for news",
            		"description": "Get all topics",
            		"operationId": "topics.index",
            		"produces": [
              		"application/json"
            		],
            		"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"description": "authority token",
                			"required": true,
                			"type": "string"
					},
					{
                			"name": "search",
                			"in": "query",
                			"type": "string",
                			"description": "Searching topic with keywords"
              		},
              		{
                			"name": "page",
                			"in": "query",
                			"required": false,
                			"type": "integer",
						"minimum": 1,
                			"description": "page of pagination. default page is 1"
              		},
              		{
                			"name": "limit",
                			"in": "query",
                			"required": false,
                			"type": "integer",
                			"minimum": 1,
                			"description": "Limit the topic display on pagination. default is 50"
              		},
			 		{
                			"name": "sortby",
                			"in": "query",
                			"type": "string",
                			"description": "Sorting topic with some condition (field_name on database, ex: title)"
              		},
              		{
                			"name": "order",
                			"in": "query",
                			"type": "string",
						"enum": ["asc", "desc"],
                			"description": "Ordering topic index with ascending order or descending order"
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
			  		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "Categories Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"200": {
                			"description": "Success get categories"
              		}
            		}
          	},
          	"post": {
	            "tags": [
	              	"Topics"
	            ],
	            "summary": "Storing topic",
	            "description": "Storing topic with all required body",
	            "operationId": "topics.index",
	            "produces": [
	              	"application/json"
	            ],
	            "parameters": [
	              	{
						"name": "token",
		                	"in": "header",
		                	"description": "authority token",
		                	"required": true,
		                	"type": "string"
	              	},
	              	{
	                		"name": "body",
	                		"in": "body",
	                		"description": "object that need for creating new topic",
	                		"required": true,
	                		"schema": {
	                  	"type": "object",
	                  		"required":[
	                    			"title"
	                  		],
	                  		"properties": {
	                    			"title": {
	                      			"type": "string",
	                      			"format": "text",
	                      			"example": "Politik"
	                    			}
	                  		}
	                		}
	              	}
	            ],
	            "responses": {
	              	"400": {
	              		"description": "Bad Request, required form data"
	              	},
	              	"401": {
	                		"description": "Not Authorized, api key not valid"
	              	},
	              	"403": {
	                		"description": "Forbidden Access, You not have priviledges to access this API"
	              	},
	              	"500": {
	                		"description": "Internal Server error"
	              	},
	              	"201": {
	                		"description": "Success to create topics"
	              	}
	            }
	        }
		},
		"/topics/{id}": {
          	"get": {
            		"tags": [
              		"Topics"
            		],
            		"summary": "Get topic By ID",
	            	"description": "Get specific topic for view, editing or delete ",
	            	"operationId": "topics.view",
	            	"produces": [
	              	"application/json"
	            	],
	            	"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"description": "authority token",
                			"required": true,
                			"type": "string"
              		},
              		{
                			"in": "path",
                			"name": "id",
                			"required": true,
                			"type": "integer",
                			"minimum": 1,
                			"description": "search topic by id parameter"
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "Topic Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"200": {
                			"description": "Success get topic"
              		}
            		}
          	},
          	"put": {
            		"tags": [
            	  		"Topics"
            		],
            		"summary": "Update topic",
            		"description": "Update topic with all required body",
            		"operationId": "topics.update",
            		"produces": [
              		"application/json"
            		],
            		"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"required": true,
                			"description": "authority token",
                			"type": "string"
              		},
              		{
                			"name": "id",
                			"in": "path",
                			"required": true,
                			"description": "add id to specific update topic",
                			"type": "integer"
              		},
              		{
                			"name": "body",
                			"in": "body",
                			"description": "object that need for update topic",
                			"required": true,
                			"schema": {
                  			"type": "object",
                  			"required":[
                    				"title"
                  			],
                  			"properties": {
                    				"title": {
                      				"type": "string",
                      				"format": "text",
                      				"example": "Pilpres"
                    				}
                  			}
                			}
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "Topic Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"200": {
                			"description": "Success to update topic"
              		}
            		}
          	},
          	"delete": {
            		"tags": [
              		"Topics"
            		],
            		"summary": "Deleting topic",
            		"description": "Deleting topic, with id supply",
            		"operationId": "topics.destroy",
            		"produces": [
              		"application/json"
            		],
            		"parameters": [
              		{
                			"name": "token",
                			"in": "header",
                			"required": true,
                			"description": "authority token",
                			"type": "string"
              		},
              		{
                			"name": "id",
                			"in": "path",
                			"required": true,
                			"description": "add id to specific topic delete",
                			"type": "integer"
              		}
            		],
            		"responses": {
              		"400": {
                			"description": "Bad Request, required form data"
              		},
              		"401": {
                			"description": "Not Authorized, api key not valid"
              		},
              		"403": {
                			"description": "Forbidden Access, You not have priviledges to access this API"
              		},
              		"404": {
                			"description": "Topic Not Found"
              		},
              		"500": {
                			"description": "Internal Server error"
              		},
              		"204": {
                			"description": "Success to delete topic"
              		}
            		}
          	}
        }
	}
}
